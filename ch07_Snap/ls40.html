<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>ls40</title>
    <link rel="stylesheet" href="../common.css">
    <script src="../snap.svg-min.js"></script>
    <style>
        text {
            text-anchor: middle;
            font-size: 18px;
            font-weight: bold;
            fill: #088;
        }

        svg {
            border: 3px dashed yellowgreen;
        }
    </style>
</head>
<body>
<h1 class="lesson-title">Snap,format</h1>
<div class="wrap">
    <div class="item">
        <p class="item-title">Snap()</p>
        <div class="code-box">
            <pre>
<code class="comment">/**
 * Snap()
 * 1.width/height
 * 2.DOM
 * 3.array of element
 * 4.css query selector
 */</code>
    var parent = document.querySelector('#svgWrap');
//1
var svg1 = Snap(100, 100);
svg1.text(50, 60, 'svg1');
document.querySelector('#svgWrap').
    insertBefore(svg1.node,parent.childNodes[0]);
//2
var svg2 = Snap(document.querySelector('#svg2'));
svg2.text(50, 60, 'svg2');
//3
var array = Array.from(document.querySelectorAll('.svg3'));
var svg3 = Snap(array);
Snap(svg3[0]).text(50, 60, 'svg3-1'); //node
Snap(svg3[1]).text(50, 60, 'svg3-2');
//4
var svg4 = Snap('#svg4');
svg4.text(50, 60, 'svg4');
console.log(svg4);
            </pre>
        </div>
        <div class="demo-box" id="svgWrap">
            <svg width="100" height="100" viewBox="0 0 100 100" id="svg2"></svg>
            <svg width="100" height="100" viewBox="0 0 100 100" class="svg3"></svg>
            <svg width="100" height="100" viewBox="0 0 100 100" class="svg3"></svg>
            <svg width="100" height="100" viewBox="0 0 100 100" id="svg4"></svg>
        </div>
        <script>
            /**
             * Snap()
             * 1.width/height
             * 2.DOM
             * 3.array of element
             * 4.css query selector
             */
            var parent = document.querySelector('#svgWrap');
            //1
            var svg1 = Snap(100, 100);
            svg1.text(50, 60, 'svg1');
            document.querySelector('#svgWrap').insertBefore(svg1.node, parent.childNodes[0]);

            //2
            var svg2 = Snap(document.querySelector('#svg2'));
            svg2.text(50, 60, 'svg2');

            //3
            var array = Array.from(document.querySelectorAll('.svg3'));
            var svg3 = Snap(array);
            Snap(svg3[0]).text(50, 60, 'svg3-1'); //node
            Snap(svg3[1]).text(50, 60, 'svg3-2');

            //4
            var svg4 = Snap('#svg4');
            svg4.text(50, 60, 'svg4');
        </script>
    </div>

    <div class="item">
        <p class="item-title">Snap.format()</p>
        <div class="code-box">
            <pre>
<code class="comment">/* Replaces construction of type {<name>} to the corresponding argument * /</code>
var str = `&lt;p&gt;{id}:{content}&lt;/p&gt;`;
var circle = Snap.format(str, {
    id: mina.time(),
    content: 'hello Snap'
});
console.log(circle);
document.querySelector(&quot;#console2&quot;).innerHTML += circle;
function getPath() {
    return Snap.format(`m{x},{y}h -{r}a {r} {r} 0 1 1 ${2 * r} 0 a -{r} {r} 0 1 1 -${2 * r} 0`, {
        x: x,
        y: y,
        r: r
    })
}

            </pre>
        </div>
        <div class="demo-box">
            <svg width="800" height="100" viewBox="0 0 800 100" id="paper2"></svg>
        </div>
        <div class="console-box" id="console2"></div>
        <script>
            var p2 = Snap('#paper2');
            var str = `<p>{id}:{content}</p>`;
            var circle = Snap.format(str, {
                id: mina.time(),
                content: 'hello Snap'
            });
            console.log(circle);
            document.querySelector("#console2").innerHTML += circle;

            var myCircle = function (p, x, y, r) {
                function getPath() {
                    return Snap.format(`m{x},{y}h -{r}a {r} {r} 0 1 1 ${2 * r} 0 a -{r} {r} 0 1 1 -${2 * r} 0`, {
                        x: x,
                        y: y,
                        r: r
                    })
                }
                function draw() {
                    return  p.path(getPath()).attr({
                        fill:'yellowgreen'
                    });
                }
                return{
                    path:getPath(),
                    draw:draw()
                }
            }
            var myC1 = new myCircle(p2,50,50,40);
            console.log(myC1);

        </script>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.5.12/clipboard.min.js"></script>
<script src="../common.js"></script>
</body>
</html>